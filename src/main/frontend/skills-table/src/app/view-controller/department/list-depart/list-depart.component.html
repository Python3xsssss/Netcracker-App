<div class="col-md-6 offset-md-3 list-depart-container">
  <h2>Departments</h2>
  <button class="btn btn-success" id="add-dep" (click)="addDepart()"><i class="fas fa-plus"></i> New Department</button>
  <div class="depart-card card border bg-super-light" id="list-deps" *ngFor="let department of departments">
    <div class="card-header">
      <h3 [attr.id]="department?.id">
        {{department?.name}}
        <button class="btn btn-success" id="update-dep" (click)="updateDepart(department.id)"><i
          class="fas fa-edit"></i></button>
        <button class="btn btn-danger" id="delete-dep" (click)="deleteDepart(department)"><i
          class="fas fa-trash-alt"></i></button>
      </h3>
    </div>
    <div class="card-body">
      <h4>About:</h4>
      <span>{{department?.about}}</span>
      <h5>
        Leader:
        <a routerLink="/user/{{department?.leader?.id}}" *ngIf="department?.leader?.id !== null">
          {{department?.leader?.username}} - {{department?.leader?.firstName}} {{department?.leader?.lastName}}
        </a>
        <a *ngIf="department?.leader?.id === null">No leader</a>
      </h5>
    </div>
    <div class="card-footer">
      <figure>
        <figcaption>
          Teams:
          <button class="btn-sm btn-success" id="add-team" (click)="addTeam()"><i class="fas fa-plus"></i></button>
        </figcaption>
        <ul class="list-group">
          <li class="list-group-item" *ngFor="let team of department?.teams">
            <a routerLink="/team/{{team?.id}}">{{team?.name}}</a>
          </li>
        </ul>
      </figure>
      <figure>
        <figcaption>
          Members without team:
          <button class="btn-sm btn-success" id="add-member" (click)="addMember()"><i class="fas fa-user-plus"></i>
          </button>
        </figcaption>
        <ul class="list-group">
          <li class="list-group-item" *ngFor="let member of department?.membersNoTeam">
            <a routerLink="/user/{{member?.id}}" *ngIf="member?.id != department?.leader?.id">
              {{member?.username}} - {{member?.firstName}} {{member?.lastName}}
            </a>
          </li>
        </ul>
      </figure>
    </div>

  </div>
</div>

